# 计网期末复习--   1.（概述部分）(未完结)

## 1.互联网基础结构发展

第一阶段：单个网络ARPANET向互连网发展的过程
第二阶段：建成三级结构的互联网
第三阶段：多层次ISP结构的互联网

>三级结构：主干网、地区网、校园网或企业网
>
>互联网服务提供者 ISP，例如中国电信、中国移动、中国联通
>
>互联网交换点 IXP，主要作用就是允许两个网络直接相连并交换分组，而不需要再通过第三个网络来转发分组。



<img src="https://img-blog.csdnimg.cn/20210604202238791.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMwNDUwMw==,size_16,color_FFFFFF,t_70" style="zoom: 50%;" />

## 2、互联网的组成

1. 边缘部分 ：由所有连接再互联网上的主机组成，这部分是用户直接使用的，用来进行通信(传送数据、音频或视频)和资源共享
2. 核心部分 ：由大量网络和连接这些网络的路由器组成。这部分是为边缘部分提供服务的（提供连通性和交换）



<img src="https://img-blog.csdnimg.cn/20210604202838381.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMwNDUwMw==,size_16,color_FFFFFF,t_70" style="zoom:50%;" />

> 处在互联网边缘的部分就是连接在互联网上的所有主机

## 3.交换形式

### 特点

- 电路交换
  整个报文的比特流连续地从源点直达终点，好像在一个管道中传送
- 报文交换
  整个报文先传送到相邻结点，全部存储下来后查找转发表，转发到下一个结点。
- 分组交换
  单个分组(这只是整个报文的一部分)传送到相邻结点，存储下来后查找转发表，转接到下一结点。



<img src="https://img-blog.csdnimg.cn/20210604223925325.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMwNDUwMw==,size_16,color_FFFFFF,t_70" style="zoom:50%;" />

### 分类选择

- 如果连接传送大量的数据，且其传送时间远大于连接建立时间，则电路交换的传输速率较快。
- 报文交换和分组交换不需要预先分配传输带宽，在传送突发数据时可提高整个网络的信道利用率。
- 由于一个分组的长度往往小于整个报文的长度，因此分组交换比报文交换的时延小，同时也具有更好的灵活性。

<img src="https://pic2.zhimg.com/80/v2-791e3e76fe8c9166dfb3068a316ca799_720w.webp" style="zoom:150%;" />

### 时间计算（重点）！！！



1. **电路交换**
   总时延=电路的建立时延+（报文长度÷链路带宽）
2. **报文交换**
   总时延=（报文长度÷链路带宽）×路由器数
3. **电路交换**
   总时延=（报文长度÷链路带宽）+（路由器数×一个分组长度）/链路带宽



## 3. 计算机网络的性能

### 1.速率：

计算机发送出的信号都是数字形式的，比特(bit)来源于binary digit，意思是一个二进制数字，因此一个比特就是二进制数字的一个1或是0。

比特也是信息论中使用的信息量的单位。网络技术中的速率指的是数据的传送速率，他也称为数据率或是比特率

### 2.带宽

**带宽有两种不同的意义**

1. 带宽本来是指某个信号具有的**频带宽度**。信号的带宽是指该信号所包含的各种不同频率成分所占据的频率范围。因此表示某信道允许通过的信号频带范围就称为**该信道的带宽**(或通频带)
2. 在计算机网络中，带宽用来表示网络中表示网络中某通道传送数据的能力，因此网络带宽表示在单位时间内网络中的某信道所能通过的**“最高数据率”**，单位是bit/s

### 3.吞吐量

1. **吞吐量表示单位时间内通过某个网络（通信线路、接口）的实际的数据量。**
2. 吞吐量受制于带宽或者网络的额定速率。

### 4.时延

时延(delay 或 latency)是指数据（一个报文或分组，甚至比特）从网络(或链路)的一端传送到另一端所需的时间。有时也称为延迟或迟延。

**时延是由以下几个不同的部分组成的：**



| 时延     | 解释                                                         |
| -------- | ------------------------------------------------------------ |
| 发送时延 | 主机或路由器发送数据帧所需要的时间                           |
| 传播时延 | 电磁波在信道中传播一定的距离需要花费的时间                   |
| 处理时延 | 主机或者路由器接受到分组时要花费一定的时间去处理             |
| 排队时延 | 分组在网络传输时，进入路由器后要在输入队列中排队等待处理，路由器确定转发接口后，还要在输出队列中排队等待转发，这就是排队时延 |

```apl
发送时延 = 数据帧长度(bit)/发送速率(bit/s)
```

```apl
传播时延=信道长度(bit)/电磁波在信道上的传播速率
```



**总时延 = 发送时延+传播时延+处理时延+排队时延**

### 5.时延带宽及

表示链路可容纳多少个比特。

```apl
时延带宽积 = 传播时延 * 带宽
```



### 6.往返时间RTT

**双向交互的花费时间，包括往返的传播时延。**

例子：A向B发送数据。如果数据长度是100MB，发送速率是100Mbit/s，

如果B正确收完100MB的数据后，就立即向A发送确认。再假定A只有再收到B的确认信息后，才能继续向B发送确认的时间）。

如果RTT=2s，那么可以算出A向B发送数据的**有效数据率**

```apl
理论发送时间=数据长度/发送速率 = 100x2^20x8/100*10^6 = 8.39s
有效数据率 = 数据长度/(发送时间+RTT) = 100x2^20x8/(8.39+2) = 80.7*e6 bit/s
```

比原来的100Mbit/s小了不少



### 7.网络利用率：

利用率有信道利用率和网络利用率

- D 代表网络当前的时延
- D0 表示 网络空闲时的时延

```apl
D = D0/(1-U)
```



<img src="https://img-blog.csdnimg.cn/20210604213905594.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMwNDUwMw==,size_16,color_FFFFFF,t_70" style="zoom:50%;" />

## 4.网络体系结构

### 1.总览：

<img src="https://img-blog.csdnimg.cn/20210604214626325.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMwNDUwMw==,size_16,color_FFFFFF,t_70" style="zoom:50%;" />

<img src="https://img-blog.csdnimg.cn/20210604214718303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMwNDUwMw==,size_16,color_FFFFFF,t_70" style="zoom:50%;" />

<img src="https://img-blog.csdnimg.cn/20210604214738102.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMwNDUwMw==,size_16,color_FFFFFF,t_70" style="zoom: 67%;" />

### 2.具体解析

**应用层**

> 通过应用进程间的交互来完成特定网络应用。应用层协议定义的时应用进程间通信和交互的规则。这里的进程就是主机中正在运行的程序。

互联网中的应用层协议很多包括DNS域名系统、支持万维网应用的HTTP协议。我们把一个用层交互的数据单元叫**报文**

------

**运输层**

> 负责向两台主机中进程之间的通信提供通用的数据传输服务。

**主要两种协议**

- 传输控制协议TCP
  提供面向连接的、可靠的数据传输服务，其数据传输的单位是`报文段`
- 用户数据报协议 UDP
  提供无连接的、尽最大努力的数据传输服务(不保证数据传输的可靠性)，其数据传输的单位是`用户数据报`

------

**网络层**
负责分组交换网上的不同主机提供通信服务。

> 在发送数据时，网络层把运输层产生的报文段或用户数据**封装成分组或包进行传送**。在TCP/IP体系中，由于网络层用IP协议，因此分组也叫IP数据报，简称**数据报**。所以分组和数据报是同义词。

注意：
1. 不要把运输层的UDP用户数据报和网络层的IP数据报弄混
2. 无论是在哪一层传送的数据单元都可笼统地用分组来表示。

------

**数据链路层**

> 将网络层交下来地IP数据包**组装成帧**，在两个相邻节点间地链路上传送帧。每一帧包括数据和必要的控制信息**(同步控制，地址控制，差错控制等)**，如果这个帧有差错，则会直接丢弃这个帧。



------

**物理层**

> 比特流的透明传输，接受数据链路层的帧，通过比特流的形式传输。



------

**注意**

- 服务是单向的，上层通过接口使用下层的服务。
- 网络协议的双向对等的。